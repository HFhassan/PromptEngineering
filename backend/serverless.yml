service: backend-api

frameworkVersion: '3'

provider:
  name: aws
  runtime: dotnet8
  region: us-east-1
  environment:
    MONGO_CONN: ${env:MONGO_CONN}
    MONGO_DB: ${env:MONGO_DB}
    JWT_SECRET: ${env:JWT_SECRET}

plugins:
  - serverless-dotnet-lambda
  - serverless-offline

package:
  individually: true

functions:
  api:
    # For ASP.NET Core Lambda Minimal API generated by Amazon templates, the handler
    # convention is Assembly::Namespace.Class::Method
    # Adjust 'BackendApi' and namespace if your project name differs.
    handler: BackendApi::BackendApi.LambdaEntryPoint::FunctionHandlerAsync
    runtime: dotnet8
    events:
      - httpApi: '*'


